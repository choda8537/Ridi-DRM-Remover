:root{--fl-brand: #60CDFF;--fl-brand-hover: #52BDF0;--fl-brand-press: #44AAD8;--fl-brand-light: #12354A;--fl-bg: #1C1C1C;--fl-surface: #272727;--fl-surface-alt: #212121;--fl-divider: #3D3D3D;--fl-border: #4A4A4A;--fl-border-dark: #616161;--fl-text-primary: #F3F2F1;--fl-text-secondary: #ABABAB;--fl-text-disabled: #6D6D6D;--fl-text-onbrand: #1C1C1C;--fl-success: #6CCB5F;--fl-success-bg: #0E2D0E;--fl-warning: #F4BE5E;--fl-warning-bg: #2E1E05;--fl-error: #F1707B;--fl-error-bg: #3A0D10;--fl-shadow-2: 0 1.6px 3.6px rgba(0,0,0,.4), 0 .3px .9px rgba(0,0,0,.3);--fl-shadow-4: 0 3.2px 7.2px rgba(0,0,0,.4), 0 .6px 1.8px rgba(0,0,0,.3);--fl-shadow-8: 0 6.4px 14.4px rgba(0,0,0,.45), 0 1.2px 3.6px rgba(0,0,0,.3);--fl-shadow-16: 0 12.8px 28.8px rgba(0,0,0,.5), 0 2.4px 7.2px rgba(0,0,0,.35);--fl-radius-sm: 2px;--fl-radius: 4px;--fl-radius-md: 6px;--fl-radius-lg: 8px;--fl-motion-fast: .1s;--fl-motion: .2s;--fl-motion-slow: .3s;--fl-ease-fluent: cubic-bezier(.33,0,.67,1)}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}body{font-family:Segoe UI Variable,Segoe UI,system-ui,-apple-system,sans-serif;font-size:14px;color:var(--fl-text-primary);background:var(--fl-bg);-webkit-font-smoothing:antialiased}.app{display:flex;flex-direction:column;height:100vh;overflow:hidden;background:var(--fl-bg)}.app-title-bar{flex-shrink:0;height:48px;background:var(--fl-surface);border-bottom:1px solid var(--fl-divider);display:flex;align-items:center;padding:0 20px;gap:12px;box-shadow:var(--fl-shadow-2);z-index:100;-webkit-app-region:drag}.title-bar-icon{font-size:18px;flex-shrink:0;-webkit-app-region:no-drag}.title-bar-name{font-size:12px;font-weight:600;color:var(--fl-text-primary);letter-spacing:.01em}.title-bar-divider{width:1px;height:16px;background:var(--fl-border);flex-shrink:0}.title-bar-user{display:flex;align-items:center;gap:8px;-webkit-app-region:no-drag}.user-avatar{width:28px;height:28px;border-radius:50%;background:var(--fl-brand);color:#fff;font-size:12px;font-weight:600;display:flex;align-items:center;justify-content:center}.user-nick{font-size:13px;color:var(--fl-text-primary);font-weight:500}.title-bar-spacer{flex:1}.title-bar-actions{display:flex;gap:6px;-webkit-app-region:no-drag}.app-content{flex:1;overflow:hidden;display:flex;flex-direction:column}.app-main{flex:1;overflow-y:auto;padding:20px 24px;display:flex;flex-direction:column}.fl-btn{display:inline-flex;align-items:center;justify-content:center;gap:6px;padding:5px 12px;font-family:inherit;font-size:14px;font-weight:400;line-height:20px;border-radius:var(--fl-radius);border:1px solid transparent;cursor:pointer;transition:background var(--fl-motion-fast) var(--fl-ease-fluent),border-color var(--fl-motion-fast) var(--fl-ease-fluent),color var(--fl-motion-fast) var(--fl-ease-fluent),box-shadow var(--fl-motion-fast) var(--fl-ease-fluent);white-space:nowrap;-webkit-user-select:none;user-select:none;-webkit-app-region:no-drag}.fl-btn:focus-visible{outline:2px solid var(--fl-brand);outline-offset:2px}.fl-btn:disabled{opacity:.38;cursor:not-allowed;pointer-events:none}.fl-btn-primary{background:var(--fl-brand);color:var(--fl-text-onbrand);border-color:transparent}.fl-btn-primary:hover:not(:disabled){background:var(--fl-brand-hover)}.fl-btn-primary:active:not(:disabled){background:var(--fl-brand-press)}.fl-btn-secondary{background:var(--fl-surface);color:var(--fl-text-primary);border-color:var(--fl-border-dark)}.fl-btn-secondary:hover:not(:disabled){background:var(--fl-surface-alt);border-color:var(--fl-text-secondary)}.fl-btn-secondary:active:not(:disabled){background:var(--fl-divider)}.fl-btn-subtle{background:transparent;color:var(--fl-text-primary);border-color:transparent}.fl-btn-subtle:hover:not(:disabled){background:#0000000d}.fl-btn-subtle:active:not(:disabled){background:#00000017}.fl-btn-sm{padding:3px 8px;font-size:12px;line-height:18px}.fl-btn-lg{padding:8px 20px;font-size:15px;line-height:22px;border-radius:var(--fl-radius-md)}.fl-badge{display:inline-flex;align-items:center;justify-content:center;min-width:20px;height:20px;padding:0 6px;border-radius:10px;font-size:11px;font-weight:600;background:#ffffff40;color:#fff}.fl-message{display:flex;align-items:flex-start;gap:10px;padding:12px 16px;border-radius:var(--fl-radius-md);font-size:14px;line-height:1.5;border-left:4px solid transparent}.fl-message-warning{background:var(--fl-warning-bg);border-left-color:var(--fl-warning);color:#4b1600}.fl-message-error{background:var(--fl-error-bg);border-left-color:var(--fl-error);color:#420005}.fl-message-success{background:var(--fl-success-bg);border-left-color:var(--fl-success);color:#002400}.banner-area{display:flex;flex-direction:column;gap:8px;padding:0 24px 12px}.fl-input{display:block;width:100%;padding:5px 10px;font-family:inherit;font-size:14px;line-height:20px;color:var(--fl-text-primary);background:var(--fl-surface);border:1px solid var(--fl-border-dark);border-radius:var(--fl-radius);transition:border-color var(--fl-motion-fast);outline:none}.fl-input:hover{border-color:var(--fl-text-secondary)}.fl-input:focus{border-color:var(--fl-brand);box-shadow:0 0 0 1px var(--fl-brand)}.fl-input:disabled{opacity:.38;background:var(--fl-divider)}.fl-search-box{position:relative;display:flex;align-items:center}.fl-search-icon{position:absolute;left:10px;color:var(--fl-text-secondary);pointer-events:none;display:flex;align-items:center}.fl-search-input{display:block;width:100%;padding:5px 10px 5px 34px;font-family:inherit;font-size:14px;line-height:20px;color:var(--fl-text-primary);background:var(--fl-surface);border:1px solid var(--fl-border-dark);border-radius:20px;transition:border-color var(--fl-motion-fast),border-radius var(--fl-motion-fast);outline:none}.fl-search-input:hover{border-color:var(--fl-text-secondary)}.fl-search-input:focus{border-color:var(--fl-brand);box-shadow:0 0 0 1px var(--fl-brand);border-radius:var(--fl-radius)}.splash-screen{position:fixed;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--fl-surface);z-index:9999;animation:splash-enter .4s var(--fl-ease-fluent) both}.splash-screen.splash--fading{animation:splash-exit .38s var(--fl-ease-fluent) both;pointer-events:none}@keyframes splash-enter{0%{opacity:0;transform:scale(.97)}to{opacity:1;transform:scale(1)}}@keyframes splash-exit{0%{opacity:1;transform:translateY(0) scale(1)}to{opacity:0;transform:translateY(-10px) scale(.98)}}.splash-indicator{position:absolute;top:0;left:0;right:0;height:3px;background:var(--fl-divider);overflow:hidden}.splash-indicator__bar1{position:absolute;top:0;height:100%;background:var(--fl-brand);border-radius:0 2px 2px 0;animation:splash-bar1 1.8s cubic-bezier(.4,0,.2,1) infinite}.splash-indicator__bar2{position:absolute;top:0;height:100%;background:var(--fl-brand);opacity:.5;border-radius:0 2px 2px 0;animation:splash-bar2 1.8s cubic-bezier(.4,0,.2,1) .55s infinite}@keyframes splash-bar1{0%{left:-45%;width:45%}70%{left:100%;width:45%}to{left:100%;width:45%}}@keyframes splash-bar2{0%{left:-25%;width:25%}70%{left:100%;width:25%}to{left:100%;width:25%}}.splash-card{display:flex;flex-direction:column;align-items:center;gap:20px}.splash-icon-wrap{width:80px;height:80px;border-radius:20px;background:var(--fl-brand);display:flex;align-items:center;justify-content:center;box-shadow:0 12px 32px #0078d44d;margin-bottom:4px;animation:splash-icon-in .5s .15s var(--fl-ease-fluent) both}@keyframes splash-icon-in{0%{opacity:0;transform:translateY(12px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.splash-brand{display:flex;flex-direction:column;align-items:center;gap:4px;animation:splash-text-in .5s .25s var(--fl-ease-fluent) both}@keyframes splash-text-in{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.splash-brand__ridi{font-size:26px;font-weight:700;letter-spacing:.06em;color:var(--fl-brand);line-height:1}.splash-brand__sub{font-size:13px;font-weight:400;color:var(--fl-text-secondary);letter-spacing:.02em}.splash-status{font-size:13px;color:var(--fl-text-disabled);margin:0;animation:splash-text-in .5s .35s var(--fl-ease-fluent) both}.splash-status:after{content:"";animation:splash-dots 1.6s steps(1,end) infinite}@keyframes splash-dots{0%{content:""}25%{content:"."}50%{content:".."}75%{content:"..."}to{content:""}}.fl-ring{width:32px;height:32px;border:2px solid var(--fl-divider);border-top-color:var(--fl-brand);border-radius:50%;animation:fl-spin .8s linear infinite}.fl-ring-sm{width:18px;height:18px;border-width:2px}.fl-ring-lg{width:44px;height:44px;border-width:3px}@keyframes fl-spin{to{transform:rotate(360deg)}}.fl-progress-bar{width:200px;height:2px;background:var(--fl-divider);border-radius:1px;overflow:hidden;position:relative}.fl-progress-bar:after{content:"";position:absolute;left:-60%;width:60%;height:100%;background:var(--fl-brand);border-radius:1px;animation:fl-progress 1.4s ease-in-out infinite}@keyframes fl-progress{0%{left:-60%}to{left:100%}}.auth-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;padding:40px 24px}.auth-card{background:var(--fl-surface);border-radius:var(--fl-radius-lg);box-shadow:var(--fl-shadow-8);padding:40px;width:100%;max-width:520px;display:flex;flex-direction:column;gap:24px}.auth-card-header{display:flex;flex-direction:column;gap:8px}.auth-card-header h2{font-size:20px;font-weight:600;color:var(--fl-text-primary)}.auth-card-header p{font-size:14px;color:var(--fl-text-secondary);line-height:1.5}.auth-loading{display:flex;flex-direction:column;align-items:center;gap:18px;padding:8px 0}.auth-loading-text{font-size:14px;color:var(--fl-text-secondary);animation:fl-pulse 1.4s ease-in-out infinite}@keyframes fl-pulse{0%,to{opacity:1}50%{opacity:.5}}.auth-error-section{display:flex;flex-direction:column;gap:12px}.auth-error-retry{display:flex;gap:8px}.fl-details{background:var(--fl-surface-alt);border:1px solid var(--fl-divider);border-radius:var(--fl-radius-md);overflow:hidden}.fl-details summary{padding:10px 14px;cursor:pointer;font-size:12px;font-weight:600;color:var(--fl-text-secondary);-webkit-user-select:none;user-select:none;list-style:none;display:flex;align-items:center;gap:6px}.fl-details summary::-webkit-details-marker{display:none}.fl-details summary:before{content:"â–¶";font-size:9px;transition:transform var(--fl-motion-fast)}.fl-details[open] summary:before{transform:rotate(90deg)}.fl-details pre{margin:0;padding:12px 14px;background:#1e1e1e;color:#d4d4d4;font-family:Cascadia Code,Consolas,Courier New,monospace;font-size:11px;line-height:1.6;max-height:200px;overflow:auto;border-top:1px solid var(--fl-divider)}.command-bar{display:flex;align-items:center;gap:8px;padding:8px 24px;background:var(--fl-surface);border-bottom:1px solid var(--fl-divider);flex-shrink:0}.command-bar-search{flex:1;max-width:360px}.command-bar-divider{width:1px;height:20px;background:var(--fl-border)}.command-bar-spacer{flex:1}.library-header{display:flex;align-items:baseline;gap:10px;padding:16px 0 12px}.library-title{font-size:20px;font-weight:600;color:var(--fl-text-primary)}.fl-count-badge{font-size:12px;font-weight:600;color:var(--fl-brand);background:var(--fl-brand-light);padding:1px 8px;border-radius:12px}.books-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:16px}.book-card{display:flex;flex-direction:column;border-radius:var(--fl-radius-md);overflow:hidden;background:var(--fl-surface);border:1px solid var(--fl-divider);cursor:pointer;-webkit-user-select:none;user-select:none;transition:box-shadow var(--fl-motion) var(--fl-ease-fluent),border-color var(--fl-motion) var(--fl-ease-fluent),transform var(--fl-motion) var(--fl-ease-fluent);box-shadow:var(--fl-shadow-2)}.book-card:hover{box-shadow:var(--fl-shadow-8);border-color:var(--fl-border-dark);transform:translateY(-2px)}.book-card.selected{border-color:var(--fl-brand);box-shadow:0 0 0 1px var(--fl-brand),var(--fl-shadow-4)}.book-cover-wrapper{position:relative;width:100%;aspect-ratio:2 / 3;overflow:hidden;background:var(--fl-surface-alt);flex-shrink:0}.book-cover{width:100%;height:100%;object-fit:cover;display:block;transition:transform var(--fl-motion-slow) var(--fl-ease-fluent)}.book-card:hover .book-cover{transform:scale(1.03)}.book-cover-placeholder{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(160deg,#deecf9,#c7e0f4)}.cover-format{font-size:13px;font-weight:700;letter-spacing:2px;color:var(--fl-brand);opacity:.8}.book-select-overlay{position:absolute;top:6px;right:6px}.book-checkbox-circle{width:22px;height:22px;border-radius:50%;background:#ffffff14;border:1.5px solid rgba(255,255,255,.2);display:flex;align-items:center;justify-content:center;font-size:11px;color:var(--fl-brand);font-weight:700;box-shadow:var(--fl-shadow-2);transition:background var(--fl-motion-fast),border-color var(--fl-motion-fast)}.book-card.selected .book-checkbox-circle{background:var(--fl-brand);border-color:var(--fl-brand);color:#fff}.book-meta{padding:8px 10px 10px;display:flex;flex-direction:column;gap:5px;flex:1}.book-title{font-size:12px;font-weight:600;color:var(--fl-text-primary);line-height:1.45;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.book-format-badge{display:inline-block;font-size:10px;font-weight:700;letter-spacing:.5px;padding:1px 6px;border-radius:2px;align-self:flex-start}.book-format-badge.epub{background:#dff6dd;color:#107c10}.book-format-badge.pdf{background:#fde7e9;color:#a4262c}.books-skeleton-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:16px}.book-skeleton{border-radius:var(--fl-radius-md);overflow:hidden;background:var(--fl-surface);border:1px solid var(--fl-divider);box-shadow:var(--fl-shadow-2)}.skeleton-cover{width:100%;aspect-ratio:2 / 3;background:var(--fl-divider);position:relative;overflow:hidden}.skeleton-cover:after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.07) 50%,transparent 100%);background-size:200% 100%;animation:fl-shimmer 1.4s ease-in-out infinite}@keyframes fl-shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}.skeleton-meta{padding:8px 10px 10px;display:flex;flex-direction:column;gap:6px}.skeleton-line{height:12px;background:var(--fl-divider);border-radius:2px;position:relative;overflow:hidden}.skeleton-line:after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.07) 50%,transparent 100%);background-size:200% 100%;animation:fl-shimmer 1.4s ease-in-out infinite .2s}.skeleton-line.short{width:50%}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 24px;text-align:center;gap:12px}.empty-icon{width:64px;height:64px;border-radius:18px;margin-bottom:4px;background:var(--fl-divider);display:flex;align-items:center;justify-content:center;color:var(--fl-text-secondary)}.empty-state h3{font-size:18px;font-weight:600;color:var(--fl-text-primary)}.empty-state p{font-size:14px;color:var(--fl-text-secondary);max-width:300px;line-height:1.5}.modal-overlay{position:fixed;inset:0;background:#0006;display:flex;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);animation:fl-fade-in var(--fl-motion) var(--fl-ease-fluent)}@keyframes fl-fade-in{0%{opacity:0}to{opacity:1}}.modal{background:var(--fl-surface);border-radius:var(--fl-radius-lg);box-shadow:var(--fl-shadow-16);width:90%;max-width:500px;max-height:90vh;display:flex;flex-direction:column;animation:fl-slide-up var(--fl-motion) var(--fl-ease-fluent)}@keyframes fl-slide-up{0%{transform:translateY(12px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid var(--fl-divider)}.modal-header h2{font-size:16px;font-weight:600;color:var(--fl-text-primary)}.close-button{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:var(--fl-radius);cursor:pointer;font-size:16px;color:var(--fl-text-secondary);transition:background var(--fl-motion-fast)}.close-button:hover{background:#0000000f;color:var(--fl-text-primary)}.modal-body{padding:20px;overflow-y:auto;flex:1;display:flex;flex-direction:column;gap:16px}.progress-body{min-height:300px}.modal-footer{display:flex;justify-content:flex-end;gap:8px;padding:14px 20px;border-top:1px solid var(--fl-divider)}.form-group{display:flex;flex-direction:column;gap:6px}.form-group label{font-size:13px;font-weight:600;color:var(--fl-text-primary)}.form-group select,.form-group input[type=text]{display:block;width:100%;padding:5px 10px;font-family:inherit;font-size:14px;line-height:20px;color:var(--fl-text-primary);background:var(--fl-surface);border:1px solid var(--fl-border-dark);border-radius:var(--fl-radius);outline:none;transition:border-color var(--fl-motion-fast)}.form-group select:hover,.form-group input[type=text]:hover{border-color:var(--fl-text-secondary)}.form-group select:focus,.form-group input[type=text]:focus{border-color:var(--fl-brand);box-shadow:0 0 0 1px var(--fl-brand)}.folder-input{display:flex;gap:6px}.folder-input input{flex:1}.export-summary{background:var(--fl-surface-alt);border:1px solid var(--fl-divider);border-radius:var(--fl-radius-md);padding:12px 14px;font-size:14px;color:var(--fl-text-secondary)}.export-summary strong{color:var(--fl-brand);font-size:16px;font-weight:700}.progress-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}.stat{background:var(--fl-surface-alt);border:1px solid var(--fl-divider);border-radius:var(--fl-radius-md);padding:10px 8px;text-align:center}.stat .label{display:block;font-size:11px;color:var(--fl-text-secondary);margin-bottom:4px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.stat .value{display:block;font-size:22px;font-weight:700;color:var(--fl-text-primary)}.stat .value.success{color:var(--fl-success)}.stat .value.processing{color:var(--fl-warning)}.stat .value.error{color:var(--fl-error)}.overall-progress{background:var(--fl-surface-alt);border:1px solid var(--fl-divider);border-radius:var(--fl-radius-md);padding:12px 14px}.progress-header{display:flex;justify-content:space-between;margin-bottom:8px;font-size:13px;font-weight:600;color:var(--fl-text-primary)}.progress-percent{color:var(--fl-brand)}.progress-bar-container{width:100%;height:4px;background:var(--fl-divider);border-radius:2px;overflow:hidden}.progress-bar-fill{height:100%;background:var(--fl-brand);border-radius:2px;transition:width .3s var(--fl-ease-fluent)}.progress-list{border:1px solid var(--fl-divider);border-radius:var(--fl-radius-md);overflow:hidden;max-height:260px;overflow-y:auto}.progress-item{display:flex;align-items:flex-start;gap:10px;padding:10px 12px;border-bottom:1px solid var(--fl-divider);font-size:13px}.progress-item:last-child{border-bottom:none}.progress-item.success{background:var(--fl-success-bg)}.progress-item.processing{background:var(--fl-warning-bg)}.progress-item.error{background:var(--fl-error-bg)}.status-icon{flex-shrink:0;width:18px}.filename{flex:1;word-break:break-all;color:var(--fl-text-primary)}.error-text{display:block;color:var(--fl-error);font-size:11px;margin-top:2px}.error-message{padding:10px 14px;background:var(--fl-error-bg);color:var(--fl-error);border:1px solid #F1B9BC;border-radius:var(--fl-radius-md);font-size:13px;font-weight:500}.app-footer{padding:6px 24px;font-size:11px;color:var(--fl-text-disabled);text-align:center;border-top:1px solid var(--fl-divider);background:var(--fl-surface);flex-shrink:0}.fl-checkbox-label{display:flex;align-items:center;gap:8px;cursor:pointer;font-size:14px;color:var(--fl-text-primary);-webkit-user-select:none;user-select:none}.fl-checkbox-label input[type=checkbox]{width:16px;height:16px;accent-color:var(--fl-brand);cursor:pointer}@media(max-width:600px){.books-grid,.books-skeleton-grid{grid-template-columns:repeat(auto-fill,minmax(110px,1fr));gap:10px}.command-bar{flex-wrap:wrap}.command-bar-search{max-width:100%}.progress-stats{grid-template-columns:repeat(2,1fr)}}
